---
layout: post
title: SCATTERBRAIN vs. MUTEMASTER
date: 2020/04/29 18:20:40
categories: [article, Scatterbrain, MM-1_MuteMaster]
excerpt_separator: <!--more-->
---
<img src="{{ site.baseurl }}/assets/img/ }}">
Эту статью я написал и выложил в Telegram-канале «музяблоки» 29 апреля 2020-го года, когда в AUM появилась поддержка мультиканальности AUv3-плагинов. Подробнее об этой функции я уже писал в большой статье про создание музыки на iOS. Сразу два разработчика (BramBos и Kai Aras) по-своему реализовали эту возможность, сделав очень похожие, но в то же время принципиально разные плагины — Scatterbrain и MM-1 MuteMaster, соответственно. Возникла путаница, так что пришлось сразу разбираться, что к чему. Выкладываю статью отдельно, т.к. она давно потерялась в ленте.

Сразу несколько человек написали мне, что новый плагин от KaiAras — MM1 — является примерно тем же, чем является Scatterbrain от BramBos. Это не совсем так, но чтобы точно что-то утверждать, попробуем разобраться, как работает каждый из них.
<!--more-->

<img src="https://sun9-5.userapi.com/impg/vBhny0TgwkhjPeUqgd3hpiC8jNlU6mc0iHKt7A/6PQlpmWZM3w.jpg?size=807x605&quality=96&sign=dd9b3b30b3ffd4fa75096c74e5a2c4da&type=album">

Начнём со Scatterbrain. Он поддерживает всего 4 канала, но задействует относительно новую для #AUM многоканальность (Multi-bus AU Instances). Каждая его #AUv3-копия создаёт 3 дополнительных Out'а, куда идёт звук с канала, на котором висит копия, и это первое серьёзное отличие обозреваемых программ: MM-1 работает с 6 разными дорожками, на каждой свой инструмент. ScatterBrain пускает звук с 1 инструмента на 4 дорожки и позволяет обрабатывать его разными эффектами.

Если коротко по функционалу (а он небольшой):
* кнопка Random для быстрого создания случайного пресета;
* две вкладки, переключающих режим работы (Seq/Mix);
* количество шагов секвенсора Steps (2-8), а ниже - длительность шага в долях, параметр Shuffle (для создания свингующего ритма) и Fade Time (время затухания при переходе на другой канал);
* раздел Chaos, с параметрами Deviate (шанс использования аудио с предыдущего шага), Retrigger (эдакий Stutter, то есть повторение шага), Deviate секвенсора (шанс словить звук из другого шага) и Trig Chance (вероятность срабатывания шага, если он вариативен);
* собственно, секвенсор, вверху которого показано, где сейчас звук, а внизу - матрица срабатывания каналов на каждом шаге, где можно задать, с какой вероятностью звук попадёт на канал);
* простой микшер с громкостью каждого посыла и поле с пресетами.

Как бы и всё. Единственная задача Scatterbrain'а - заставлять звук уходить с одного канала на другие. Либо запускать сразу по четырём одновременно. На каналах же могут висеть разные эффекты: биткрашер, ревербератор, фильтр... Да чего душе угодно.

<img src="https://sun9-70.userapi.com/impg/qDqJCHoj1Iq5-HhRzC7miQoaGjrsqL5-tyCunA/6nmepU4sQwA.jpg?size=807x605&quality=96&sign=9484f556390e7185b97fc1c54dd5f2c5&type=album">

В этом плане Mute Master чуточку сложнее. И первое, что сбивает с толку - это как бы поддержка многоканальности без использования оной. MM-1 не задействует Multi-bus AU Instances и сам понимает, сколько его копий запущено в данный момент. Нечто подобное реализовано в секвенсоре #Atom, который отображает MIDI-дорожки всех запущенных копий. Наверное, это хорошо и это позволит плагину работать не только с AUM.

Но как вы уже поняли, его цель - не гонять 1 звук по разным дорожкам с эффектами, а мьютировать не нужные в данный момент каналы. Создаём дорожки с инструментами, вешаем в ячейку эффектов каждой по копии MM-1, и единственные настройки для каждого канала, которые стоит проверить - это Channel Select (должен сам устанавливаться нужным образом, но его всегда можно поменять) и Channel Fade (очень нужен, если на канале играется что-то, что при резком обрубании зазвучит некрасиво; например, пианино, пэды или что-то подобное).

Каналов может быть до 6 штук. Мы создаём до 8 Mute-паттернов, то есть установок (или, если хотите, сцен), в которых будут звучать только нужные нам инструменты из подключённых к MM-1 каналов. Тут можно продумывать композицию и решать, какие инструменты стоит вводить в какой момент. А можно и дать волю фантазии, сделав случайные наборы (например, если хочется сделать рандомные ударные), и тогда плагин будет делать нечто, подобное Scatterbrain (но всё равно иначе).

Однако сцены могут переключаться только четырьмя возможными способами (за это отвечает ручка Pattern Dir):
* "по очереди от 1 до 8";
* "в обратную сторону";
* "назад/вперёд";
* "рандомно".

Либо я делал что-то не так, либо функция "назад-вперёд" не работает или работает как-то странно. В общем, у меня не завелось.

Ручка Pattern Src отвечает, собственно, за алгоритм смены паттернов. MAN (вручную, крутя ручку Active Pattern), SEQ (согласно установкам встроенного эквалайзера), DIV (согласно установкам секции Divide), PROB (согласно установкам секции Chance) и KEY (срабатывает, когда в MM-1 прилетает MIDI-Note, то есть любая нота с клавиатуры). Не забудьте выставить ручку Last Pattern, чтобы плагин понимал, в каких пределах стоит сменять мьют-паттерны (иначе будет гнать все 8, тогда как у вас забито всего 3 - придётся долго слушать тишину).

Ручка Seq Division связана напрямую с секвенсором: она отвечает за длительность шагов. У самих шагов на секвенсоре есть лишь 2 режима: True (горит, срабатывает переключение паттерна) и False (не горит, ничего не срабатывает).

Ну и две самых мудрёных секции, которые непросто понять сразу: Chance и Divide. У обеих есть одинаковые ручки SRC - что именно будет заставлять секцию срабатывать. BPM - значит при каждом ударе паттерн будет меняться. SEQ - срабатывание при каждом True-шаге. DIV/PROB заставляет секции взаимодействовать (если выставлены у обеих секций, ничего срабатывать не будет) и KEY - срабатывают по нажатию MIDI-клавиши.

У Chance есть параметр Probability. Например, Pattern Sec у нас стоит на Prob, Chance срабатывает от секвенсора, а Probability 0. Тогда переключения не будет. 100% - паттерн будет меняться на каждом True-шаге. У Divide есть параметр Divisions - количество входящих true-сигналов, необходимое, чтобы паттерн переключился.

Как видите, всё немного заморочено, но в целом понятно. А! Ну и не забываем про кнопку Bypass, отключающую MM-1 и позволяющую всем каналам звучать. У плагина есть AU-Parameters, так что всё можно автоматизировать, в том числе и главную ручку - смену паттернов. Тут можно заморочиться с миди-маппингом на контроллере, чтобы, например, каждый из 8 пэдов слал CC строго с нужным параметром от 1 до 8. Или, опять же, пусть будет хаос.

Сегодня день выхода приложения, и обновление 1.0.1 уже вышло. Но ему явно не хватает ещё одного: заметны глюки UI (особенно при нажатии кнопки Info), ручки не очень отзывчивы, шрифты на iPad 2017 теряются между частями интерфейса. Ну и я хочу режим "назад-вперёд", а он у меня не работает.

MM-1 и Scatterbrain - очень разные приложения для решения схожих задач. Они могут хорошо работать в паре и подменять друг друга, когда это необходимо. Я уже придумал, как использовать MM-1, но скажу честно: это НЕнеобходимое приложение, ничего инновационного оно пока что не делает, хотя разработчик Kai Aras движется в нужную сторону.
